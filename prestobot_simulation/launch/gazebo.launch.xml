<launch>

    <!-- Simulation arguments -->
    <arg name="world_path" default="$(find-pkg-share prestobot_simulation)/worlds/hallway.world"/>

    <!-- Initial robot position -->
    <arg name="x_pose" default="-33.0" />
    <arg name="y_pose" default="-16.0" />
    <arg name="z_pose" default="0.01" />

    <!-- Let variables for cleaner paths and commands -->
    <let name="gazebo_config_path" value="$(find-pkg-share prestobot_simulation)/config/gazebo_bridge.yaml" />

    <!-- Gazebo Simulator -->
    <include file="$(find-pkg-share ros_gz_sim)/launch/gz_sim.launch.py">
        <arg name="gz_args" value="$(var world_path) -r" />
    </include>

    <!-- Spawn Robot in Gazebo -->
    <node pkg="ros_gz_sim" exec="create" args="-topic robot_description -x $(var x_pose) -y $(var y_pose) -z $(var z_pose)" />

    <!-- ROS-Gazebo Bridge -->
    <node pkg="ros_gz_bridge" exec="parameter_bridge" >
        <param name="config_file" value="$(var gazebo_config_path)" />
    </node>

</launch>